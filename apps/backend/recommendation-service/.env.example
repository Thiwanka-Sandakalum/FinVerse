# =============================================================================
# FinVerse Recommendation Service - Environment Template
# =============================================================================
# Copy this file to .env and update with your actual values
# =============================================================================

# -----------------------------------------------------------------------------
# SERVICE CONFIGURATION
# -----------------------------------------------------------------------------
SERVICE_HOST=0.0.0.0
SERVICE_PORT=4003
SERVICE_DEBUG=false
SERVICE_LOG_LEVEL=INFO
SERVICE_NAME=recommendation-service
SERVICE_VERSION=1.0.0
ENVIRONMENT=development

# API Configuration
API_PREFIX=/api/v1

# -----------------------------------------------------------------------------
# DATABASE CONFIGURATION
# -----------------------------------------------------------------------------
# MongoDB Configuration (for storing user interactions)
# Local MongoDB:
DB_MONGODB_URI=mongodb://localhost:27017
# MongoDB Atlas (production):
# DB_MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/?appName=appname

DB_MONGODB_DATABASE=finverse_interactions

# -----------------------------------------------------------------------------
# EXTERNAL SERVICES
# -----------------------------------------------------------------------------
# Banking Service URL (for product data)
# Local development:
EXTERNAL_BANKING_SERVICE_URL=http://localhost:4001
# Production:
# EXTERNAL_BANKING_SERVICE_URL=https://your-banking-service-url

EXTERNAL_BANKING_SERVICE_TIMEOUT=30

# -----------------------------------------------------------------------------
# MESSAGE QUEUE CONFIGURATION
# -----------------------------------------------------------------------------
# RabbitMQ Connection
# Local RabbitMQ:
QUEUE_RABBITMQ_URL=amqp://guest:guest@localhost:5672/
# CloudAMQP (production):
# QUEUE_RABBITMQ_URL=amqps://username:password@host/vhost

# -----------------------------------------------------------------------------
# MACHINE LEARNING MODEL CONFIGURATION
# -----------------------------------------------------------------------------
# Model Hyperparameters
MODEL_NUM_COMPONENTS=50
MODEL_LEARNING_RATE=0.05
MODEL_LOSS=warp
MODEL_EPOCHS=20
MODEL_USER_ALPHA=0.00001
MODEL_ITEM_ALPHA=0.00001
MODEL_MAX_SAMPLED=30

# Model Refresh Settings
MODEL_REFRESH_INTERVAL_SECONDS=3600

# -----------------------------------------------------------------------------
# STORAGE CONFIGURATION
# -----------------------------------------------------------------------------
# Data directory (relative to project root)
# STORAGE_DATA_DIR=./data

# Model file names (optional, defaults provided)
# STORAGE_MODEL_FILENAME=recommendation_model.pkl
# STORAGE_USER_FEATURES_FILENAME=user_features.npz
# STORAGE_ITEM_FEATURES_FILENAME=item_features.npz
# STORAGE_USER_MAPPING_FILENAME=user_mapping.pkl
# STORAGE_ITEM_MAPPING_FILENAME=item_mapping.pkl
# STORAGE_FEATURE_MAPPING_FILENAME=feature_mapping.pkl

# -----------------------------------------------------------------------------
# CORS CONFIGURATION
# -----------------------------------------------------------------------------
# Allow all origins in development, restrict in production
CORS_ALLOW_ORIGINS=["*"]
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=["*"]
CORS_ALLOW_HEADERS=["*"]

# Production CORS example:
# CORS_ALLOW_ORIGINS=["https://your-frontend-domain.com","https://admin.your-domain.com"]
# CORS_ALLOW_METHODS=["GET","POST","PUT","DELETE"]
# CORS_ALLOW_HEADERS=["Content-Type","Authorization"]
