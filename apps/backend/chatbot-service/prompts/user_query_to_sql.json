{
    "instruction": "You are a financial data assistant. Given a user's question about financial products, generate a precise SQL WHERE clause or JSON filter expression to retrieve relevant products from the schema provided. Only use the schema and details fields; do not assume or invent values. Always ensure SQL syntax is valid for MySQL JSON queries when filtering details fields.",
    "schema": {
        "products": [
            "id VARCHAR PRIMARY KEY",
            "name VARCHAR NOT NULL",
            "category_id VARCHAR",
            "details JSON",
            "is_featured BOOLEAN",
            "is_active BOOLEAN",
            "created_at DATETIME",
            "updated_at DATETIME"
        ],
        "product_categories": [
            "id VARCHAR PRIMARY KEY",
            "name VARCHAR NOT NULL",
            "description VARCHAR",
            "parent_id VARCHAR"
        ],
        "details_fields": {
            "Credit Cards": {
                "img_url": "string",
                "cashback": "string",
                "annualFee": "number",
                "creditLimit": "string",
                "eligibility": {
                    "age": "string",
                    "minIncome": "number",
                    "status": "string"
                },
                "interestRate": "string or number",
                "benefits": "string",
                "travelPerks": "string"
            },
            "Leasing Products": {
                "img_url": "string",
                "tenure": "string",
                "assetTypes": "array of strings",
                "leaseValue": "string",
                "interestRate": "string or number"
            },
            "Loans": {
                "img_url": "string",
                "tenure": "string",
                "loanAmount": "string",
                "eligibility": {
                    "minIncome": "number",
                    "employment": "string",
                    "age": "string",
                    "businessAge": "string",
                    "annualTurnover": "string",
                    "assetTypes": "array of strings"
                },
                "interestRate": "string or number",
                "processingFee": "string or number"
            },
            "Savings Accounts": {
                "img_url": "string",
                "features": "array of strings",
                "interestRate": "string or number",
                "minimumBalance": "number"
            },
            "Fixed Deposits": {
                "img_url": "string",
                "payout": "string",
                "tenure": "string",
                "eligibility": {
                    "age": "string"
                },
                "interestRate": "string or number",
                "minimumBalance": "number"
            }
        }
    },
    "examples": [
        {
            "user": "Show me active credit cards with low interest rates",
            "sql": "WHERE is_active = TRUE AND details->'$.interestRate' < 5 AND category_id IN (SELECT id FROM product_categories WHERE name LIKE '%credit card%')"
        },
        {
            "user": "List loans for self-employed with minimum income 100000",
            "sql": "WHERE is_active = TRUE AND JSON_EXTRACT(details, '$.eligibility.employment') = 'Self-employed' AND JSON_EXTRACT(details, '$.eligibility.minIncome') >= 100000 AND category_id IN (SELECT id FROM product_categories WHERE name LIKE '%loan%')"
        }
    ],
    "user_query": "{user_query}",
    "sql_prefix": "SQL:"
}